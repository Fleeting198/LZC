<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="description" content="基于大学生校园卡数据的分析与挖掘">
        <link rel="shortcut icon" href="{{ url_for('static', filename='favicon.ico') }}">
        <title>基于大学生校园卡数据的分析与挖掘</title>
        
        <link href="{{ url_for('static',filename='css/bootstrap-theme.min.css') }}" rel="stylesheet"/>
		<link href="{{ url_for('static',filename='css/bootstrap.min.css') }}" rel="stylesheet"/>
        <link href="{{ url_for('static',filename='css/daterangepicker.css') }}" rel="stylesheet"/>
        <link href="{{ url_for('static',filename='css/custom.css') }}" rel="stylesheet"/>
        <link href="{{ url_for('static',filename='css/jquery.dataTables.min.css') }}" rel="stylesheet"/>
        
        <script type="text/javascript" src="{{ url_for('static',filename='js/jquery-1.12.0.min.js') }}"></script>
        <script type="text/javascript" src="{{ url_for('static',filename='js/bootstrap.min.js') }}"></script>
        <script type="text/javascript" src="{{ url_for('static',filename='js/jquery.cookie.min.js') }}"></script>
        <script type="text/javascript" src="{{ url_for('static',filename='js/jquery.navgoco.min.js') }}"></script>
        <script type="text/javascript" src="{{ url_for('static',filename='js/moment.min.js') }}"></script>
        <script type="text/javascript" src="{{ url_for('static',filename='js/daterangepicker.js') }}"></script>
        <script type="text/javascript" src="{{ url_for('static',filename='js/echarts.min.js') }}" charset="UTF-8"></script>
        <script type="text/javascript" src="{{ url_for('static',filename='js/jquery.dataTables.min.js') }}"></script>
    </head>
    
    <body>
        <!-- 顶部导航栏 -->
        <div id="header">
            <nav class="navbar navbar-inverse navbar-fixed-top">
                <div class="center-block" style="width:1200px;padding-left: 15px;">
                    <div class="navbar-header">
                        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </button>
                        <a class="navbar-brand" href="{{url_for('index')}}" >基于大学生校园卡数据的分析与挖掘</a>
                    </div>
                    <div id="navbar" class="navbar-collapse collapse">
                        <ul class="nav navbar-nav">
                        	
                        	<!--Jinja2宏函数，创建导航下拉菜单按钮-->
                            {% macro charts_navbtn(url_fun, value) -%}
                                <li><a href="{{ url_for(url_fun) }}">{{ value }}</a></li>
                            {%- endmacro %}
                        	
                            <!-- 导航按钮 -->
                            <li class="dropdown">
                                <a class="dropdown-toggle" data-toggle="dropdown" role="button" >
									个人图表
                                    <span class="caret"></span>
                                </a>
                                <ul class="dropdown-menu">
                                    <li class="dropdown-header">个人门禁</li>
		                            {{ charts_navbtn('show_chart_accategory','门禁类型比例') }}
									{{ charts_navbtn('show_chart_acdatetrend','门禁日期变化') }}
									{{ charts_navbtn('show_chart_actimedistr','门禁时间分布') }}
                                    <li class="divider"></li>

                                    <li class="dropdown-header">个人消费</li>
									{{ charts_navbtn('show_chart_concategory','消费类型比例') }}
                                    {{ charts_navbtn('show_chart_condatetrend','消费日期变化') }}
                                    {{ charts_navbtn('show_chart_contimedistr','消费时间分布') }}
									{{ charts_navbtn('show_chart_penalty','图书借阅违规费') }}
									<li class="divider"></li>
									
									<li class="dropdown-header">个人其他</li>
									{{ charts_navbtn('show_chart_relation','人际关系') }}
                                    {{ charts_navbtn('show_chart_conability','消费能力') }}
                                    {{ charts_navbtn('show_chart_studyandconability','学习与消费能力') }}
                                </ul>
                            </li>
                            
                            <li class="dropdown">
                                <a class="dropdown-toggle" data-toggle="dropdown" role="button" >
									学校图表
                                    <span class="caret"></span>
                                </a>
                                <ul class="dropdown-menu">
                                    <li class="dropdown-header">学校门禁</li>
                                    {{ charts_navbtn('show_chart_schaccategory','门禁类型比例') }}
                                    {{ charts_navbtn('show_chart_schacdatetrend','门禁日期变化') }}
                                    {{ charts_navbtn('show_chart_schactimedistr','门禁时间分布') }}
									<li class="divider"></li>
                                    
                                    <li class="dropdown-header">学校消费</li>
                                    {{ charts_navbtn('show_chart_schconcategory','消费类型比例') }}
                                    {{ charts_navbtn('show_chart_schcondatetrend','消费日期变化') }}
                                    {{ charts_navbtn('show_chart_schcontimedistr','消费时间分布') }}
                                    {{ charts_navbtn('show_chart_conFood','餐饮消费时间分布') }}
                                    {{ charts_navbtn('show_chart_conWater','用水消费时间分布') }}
									<li class="divider"></li>
                                    
                                    <li class="dropdown-header">学校其他</li>
                                    {{ charts_navbtn('show_chart_number','人数统计') }}
                                </ul>
                            </li>
                        </ul>
                    </div>
                </div>
            </nav>
        </div>

		<!-- 主内容 -->
        {% block content %}{% endblock %}
        
        <!-- 公用错误提示窗口 -->
        <div id="modal-err" class="modal fade" style="margin-top: 200px;">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button class="close" data-dismiss="modal">&times;</button>
                        <h4 id="modal-err-title" class="modal-title label label-danger" style="font-size: 18px"></h4>
                    </div>
                    <div class="modal-body">
                        <h3><span id="modal-err-content" style="color: #000;" ></span></h3>
                    </div>
                    <div class="modal-footer">
                        <button class="btn btn-default" data-dismiss="modal">关闭</button>
                    </div>
                </div>
            </div>
        </div>
        <script type="text/javascript">force_window_resize = function() {
	$(window).trigger("resize");
	$(window).resize();
};
force_window_resize();

// 模态提示框显示
showDialog = function(title, content) {
	document.getElementById("modal-err-title").innerText = title;
	document.getElementById("modal-err-content").innerText = content;
	$("#modal-err").modal('show');
}</script>
    </body>
</html>
